# SPDX-FileCopyrightText: Huawei Inc.
#
# SPDX-License-Identifier: Apache-2.0

# Distro configuration for the dashboard demo

# Epiphany fails with musl
# https://bugzilla.yoctoproject.org/show_bug.cgi?id=14281
TCLIBC ?= "glibc"

require conf/distro/openharmony-linux.conf
include conf/distro/include/ha-versions.inc

DISTRO = "openharmony-linux-demo-dashboard"
DISTRO_NAME = "OpenHarmony Dashboard Demo Linux Distro"

# Custom hostnames for easy DNS resolution for this demo.
# The gateway would run on a stm32mp1-av96 machine.
hostname_base-files_stm32mp1-av96 = "demo-dashboard-gateway"

# Avoid build warning(s) for ununsed extra partitions.
ST_VENDORFS = "0"
ST_USERFS = "0"

# Dynamic weston.ini configuration
WESTON_DYNAMIC_INI = "1"
WESTON_INI_NO_TOOLBAR = "1"

# Mask getty on tty1 to cleanup boot process
SYSTEMD_MASK_GETTY = "tty1"

EPIPHANY_APP = "HomeAssistant"
EPIPHANY_URL = "http://localhost:8123"
EPIPHANY_RDEPENDS = "python3-homeassistant"
EPIPHANY_SERVICE_ENABLED = "1"

WESTON_INI_BACKGROUND_IMAGE = "/usr/share/backgrounds/ostc-logo-small-loading.png"
WESTON_INI_BACKGROUND_COLOR = "0xffffffff"
WESTON_INI_BACKGROUND_TYPE = "centered"
